<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Second Brain</title>
    <!-- Markdown Parser -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-color: #ffffff;
            --text-color: #1a1a1a;
            --sidebar-bg: #f8f9fa;
            --sidebar-border: #e9ecef;
            --accent-color: #2563eb;
            --code-bg: #f4f4f4;
            --font-main: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-main);
            color: var(--text-color);
            background-color: var(--bg-color);
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- Sidebar Styles --- */
        .sidebar {
            width: 280px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--sidebar-border);
            display: flex;
            flex-direction: column;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .sidebar-header {
            padding: 20px;
            border-bottom: 1px solid var(--sidebar-border);
        }

        .brand {
            font-weight: 700;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box {
            margin-top: 15px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 8px 12px 8px 30px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 0.9rem;
            outline: none;
        }

        .search-input:focus {
            border-color: var(--accent-color);
        }

        .search-icon {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: #888;
            font-size: 0.8rem;
        }

        .nav-tree {
            flex: 1;
            overflow-y: auto;
            padding: 20px 0;
        }

        .nav-section {
            margin-bottom: 20px;
        }

        .nav-section-title {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #666;
            padding: 0 20px 8px;
            font-weight: 600;
        }

        .nav-item {
            padding: 8px 20px;
            cursor: pointer;
            font-size: 0.95rem;
            color: #444;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background 0.1s;
        }

        .nav-item:hover {
            background-color: rgba(0,0,0,0.05);
            color: #000;
        }

        .nav-item.active {
            background-color: #e0e7ff;
            color: var(--accent-color);
            border-right: 3px solid var(--accent-color);
            font-weight: 500;
        }

        .nav-item i {
            width: 16px;
            text-align: center;
            font-size: 0.9em;
            color: #888;
        }

        .nav-item.active i {
            color: var(--accent-color);
        }

        /* --- Main Content Styles --- */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px 60px;
            max-width: 1000px; /* Reading width */
        }

        .markdown-body {
            line-height: 1.7;
            font-size: 1.05rem;
        }

        .markdown-body h1 { font-size: 2.2em; margin-bottom: 0.5em; padding-bottom: 0.3em; border-bottom: 1px solid #eee; }
        .markdown-body h2 { font-size: 1.5em; margin-top: 1.5em; margin-bottom: 0.5em; }
        .markdown-body h3 { font-size: 1.25em; margin-top: 1.2em; margin-bottom: 0.5em; }
        .markdown-body p { margin-bottom: 1.2em; }
        .markdown-body ul, .markdown-body ol { margin-bottom: 1.2em; padding-left: 2em; }
        .markdown-body li { margin-bottom: 0.3em; }

        .markdown-body blockquote {
            border-left: 4px solid var(--accent-color);
            background: #f8f9fa;
            padding: 10px 20px;
            margin: 0 0 1.2em;
            color: #555;
            font-style: italic;
        }

        .markdown-body code {
            background: var(--code-bg);
            padding: 2px 5px;
            border-radius: 4px;
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, monospace;
            font-size: 0.9em;
            color: #d63384;
        }

        .markdown-body pre {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin-bottom: 1.5em;
        }

        .markdown-body pre code {
            background: transparent;
            color: inherit;
            padding: 0;
        }

        .markdown-body a { color: var(--accent-color); text-decoration: none; }
        .markdown-body a:hover { text-decoration: underline; }

        .markdown-body img { max-width: 100%; border-radius: 6px; margin: 10px 0; }

        .tag-pill {
            display: inline-block;
            background: #e9ecef;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            color: #555;
            margin-right: 5px;
            margin-bottom: 20px;
        }

        /* Mobile Toggle */
        .menu-toggle {
            display: none;
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 100;
            background: white;
            border: 1px solid #ddd;
            padding: 8px;
            border-radius: 4px;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            .sidebar {
                position: fixed;
                height: 100%;
                z-index: 99;
                transform: translateX(-100%);
            }
            .sidebar.open {
                transform: translateX(0);
            }
            .main-content {
                padding: 20px;
                width: 100%;
            }
            .menu-toggle {
                display: block;
            }
        }
    </style>
</head>
<body>

    <!-- Mobile Menu Button -->
    <button class="menu-toggle" onclick="toggleSidebar()">
        <i class="fas fa-bars"></i>
    </button>

    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="brand">
                <i class="fas fa-brain" style="color: var(--accent-color);"></i>
                Second Brain
            </div>
            <div class="search-box">
                <i class="fas fa-search search-icon"></i>
                <input type="text" class="search-input" placeholder="Search knowledge..." onkeyup="filterDocs(this.value)">
            </div>
        </div>

        <div class="nav-tree" id="navTree">
            <!-- Navigation items will be injected here by JS -->
        </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content">
        <div id="contentDisplay" class="markdown-body">
            <!-- Markdown content will be rendered here -->
        </div>
    </main>

    <script>
        // ==========================================
        // ðŸ§  THE KNOWLEDGE BASE (DATABASE)
        // Edit this object to add pages!
        // ==========================================
        const wikiData = {
            // LIBRARY SECTION
            "library": {
                title: "ðŸ“š Library",
                items: [
                    {
                        id: "home",
                        title: "Home",
                        icon: "fas fa-home",
                        content: `
# Welcome to Second Brain

This is a minimalist, single-file knowledge base. It is designed to be **lightweight**, **fast**, and **easy to maintain**.

## Structure
- **Library**: Permanent concepts (Cybersecurity, AI, etc.)
- **Weekly Updates**: Chronological logs of tech news.

## How to use
Click on the sidebar items to navigate. Use the search bar to filter content.
                        `
                    },
                    {
                        id: "cyber-malware",
                        title: "Cybersecurity / Malware",
                        icon: "fas fa-shield-alt",
                        tags: ["security", "definitions"],
                        content: `
# Malware Definitions

## Ransomware
Ransomware is a type of malicious software designed to block access to a computer system until a sum of money is paid.

### Common Variants
1. **LockBit**: Known for its speed of encryption.
2. **WannaCry**: Utilized the EternalBlue exploit.

## Trojan
A program that claims to do one thing but actually does damage when you run it.
                        `
                    },
                    {
                        id: "ai-rag",
                        title: "AI / RAG",
                        icon: "fas fa-robot",
                        tags: ["ai", "llm"],
                        content: `
# Retrieval Augmented Generation (RAG)

RAG is a technique for enhancing the accuracy and reliability of generative AI models with facts fetched from external sources.

## How it works
1. **Retrieval**: System searches a document database for relevant info.
2. **Augmentation**: The info is attached to the user prompt.
3. **Generation**: The LLM generates an answer using the context.
                        `
                    }
                ]
            },

            // WEEKLY UPDATES SECTION
            "updates": {
                title: "ðŸ“… Weekly Updates",
                items: [
                    {
                        id: "2025-w52",
                        title: "2025 Week 52",
                        icon: "far fa-calendar-check",
                        tags: ["weekly", "news"],
                        content: `
# Week 52, 2025
*December 22 - December 28*

## ðŸ›¡ï¸ Cybersecurity
1. **Zero-Day in Chrome**
   - Google released a patch for **CVE-2025-XXXX**.
   - Vulnerability in V8 engine allows RCE.
   - [Read More](#)

2. **Ransomware Attack on Hospital**
   - New variant of **LockBit** detected.
   - Attackers demanded 50 BTC.

## ðŸ¤– Artificial Intelligence
1. **Gemini 2.0 Released**
   - New multimodal capabilities.
   - 2M Token context window is now standard.

## ðŸ“± General Tech
1. **Python 3.14 Alpha**
   - Experimental "No-GIL" mode enabled.
                        `
                    },
                    {
                        id: "2026-w01",
                        title: "2026 Week 01",
                        icon: "far fa-calendar",
                        tags: ["weekly", "news"],
                        content: `
# Week 01, 2026
*December 29 - January 4*

## ðŸ›¡ï¸ Cybersecurity
1. **SSH Terrapin Attack v2**
   - A new variation of the Terrapin attack affects OpenSSH versions prior to 9.8.

## ðŸ¤– Artificial Intelligence
1. **OpenAI Safety Report**
   - Released findings on model autonomy.

## ðŸ“± General Tech
1. **CES 2026 Highlights**
   - New transparent OLED displays from LG.
                        `
                    }
                ]
            }
        };

        // ==========================================
        // âš™ï¸ THE ENGINE (LOGIC)
        // ==========================================

        const navTree = document.getElementById('navTree');
        const contentDisplay = document.getElementById('contentDisplay');
        const sidebar = document.getElementById('sidebar');
        let currentDocId = 'home';

        // Initialize
        function init() {
            renderSidebar();
            loadContent('home');
        }

        // Render Sidebar from Data
        function renderSidebar() {
            navTree.innerHTML = '';

            Object.keys(wikiData).forEach(sectionKey => {
                const section = wikiData[sectionKey];

                // Section Title
                const sectionTitle = document.createElement('div');
                sectionTitle.className = 'nav-section-title';
                sectionTitle.innerText = section.title;
                navTree.appendChild(sectionTitle);

                // Section Items
                section.items.forEach(item => {
                    const navItem = document.createElement('div');
                    navItem.className = 'nav-item';
                    navItem.dataset.id = item.id;
                    navItem.onclick = () => loadContent(item.id);

                    navItem.innerHTML = `
                        <i class="${item.icon}"></i>
                        <span>${item.title}</span>
                    `;

                    navTree.appendChild(navItem);
                });

                // Spacer
                const spacer = document.createElement('div');
                spacer.style.height = "20px";
                navTree.appendChild(spacer);
            });
        }

        // Load Content Page
        function loadContent(id) {
            let foundItem = null;

            // Find item in data
            Object.values(wikiData).forEach(section => {
                const item = section.items.find(i => i.id === id);
                if (item) foundItem = item;
            });

            if (!foundItem) return;

            // Update UI Active State
            document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
            const activeNav = document.querySelector(`.nav-item[data-id="${id}"]`);
            if(activeNav) activeNav.classList.add('active');

            // Render Content
            // 1. Tags if available
            let htmlContent = '';
            if (foundItem.tags) {
                htmlContent += '<div>';
                foundItem.tags.forEach(tag => {
                    htmlContent += `<span class="tag-pill">#${tag}</span>`;
                });
                htmlContent += '</div>';
            }

            // 2. Markdown Parsing
            htmlContent += marked.parse(foundItem.content);

            contentDisplay.innerHTML = htmlContent;

            // Mobile: Close sidebar after click
            if(window.innerWidth <= 768) {
                sidebar.classList.remove('open');
            }

            currentDocId = id;
            window.scrollTo(0,0);
        }

        // Search Filter
        function filterDocs(query) {
            const term = query.toLowerCase();
            const navItems = document.querySelectorAll('.nav-item');

            navItems.forEach(item => {
                const text = item.innerText.toLowerCase();
                if (text.includes(term)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        // Mobile Sidebar Toggle
        function toggleSidebar() {
            sidebar.classList.toggle('open');
        }

        // Start the engine
        init();

    </script>
</body>
</html>
